<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- 引入Vue.js -->
        <script type="text/javascript" src="../core/vue.js"></script>
        <title>更新时的一个问题</title>
    </head>
    <body>
        <div id="root">
            <h2>姓名列表</h2>
            <button @click="changeMei">更新马冬梅</button>
            <ul>
                <hr />
                <li v-for="(value,index) of personList" :key="value.id">
                    {{value.id}}---{{value.name}}---{{value.age}}---{{value.sex}}
                </li>
            </ul>
        </div>
    </body>
    <script type="text/javascript">
        Vue.config.productionTip == false; // 阻止 Vue 在启动时生成生产提示
        const vm = new Vue({
            el: "#root",
            data: {
                personList: [
                    { id: 1, name: "马冬梅", age: 18, sex: "女" },
                    { id: 2, name: "周冬雨", age: 19, sex: "女" },
                    { id: 3, name: "周杰伦", age: 20, sex: "男" },
                    { id: 4, name: "温兆伦", age: 21, sex: "男" },
                ],
            },
            methods: {
                changeMei() {
                    /*奏效*/
                    // for (person of this.personList) {
                    //     if (person.name === "马冬梅") {
                    //         person.name = "马老师";
                    //         person.age = 50;
                    //         person.sex = "男";
                    //     }
                    // }
                    // this.personList[0].name = "马老师";// 奏效
                    // this.personList[0].age = 50;// 奏效
                    // this.personList[0].sex = "男";// 奏效

                    // vue 数据没有更新
                    this.personList[0] = {
                        id: 1,
                        name: "马老师",
                        age: 50,
                        sex: "男",
                    };
                },
            },
        });
    </script>
</html>
